ARC113


Form1: 

- Task 1. Set up Cloud Pub/Sub.
- Task 2. Create a Cloud Scheduler job.
- Task 3. Verify the results in Cloud Pub/Sub.

```
gcloud services enable cloudscheduler.googleapis.com
```
```    
gcloud pubsub topics create cloud-pubsub-topic
```    
```
gcloud pubsub subscriptions create 'cloud-pubsub-subscription' --topic=cloud-pubsub-topic
```    
```
export REGION=
```

```
gcloud scheduler jobs create pubsub cron-scheduler-job \
        --schedule="* * * * *" --topic=cloud-pubsub-topic \
        --message-body="Hello World!" --location=$REGION
```    

```
gcloud pubsub subscriptions pull cloud-pubsub-topic --limit 5
```



Form2: 

- Task 1. Create Pub/Sub schema.
- Task 2. Create Pub/Sub topic using schema.
- Task 3. Create a trigger cloud function with Pub/Sub topic

```
gcloud pubsub subscriptions create pubsub-subscription-message --topic gcloud-pubsub-topic
```
```
gcloud pubsub topics publish gcloud-pubsub-topic --message="Hello World"

echo
echo "Waiting: Allowing some time for processing..."
sleep 10

echo
echo "Step 3: Pulling messages from the subscription..."
echo "Fetching up to 5 messages sent to the topic."
gcloud pubsub subscriptions pull pubsub-subscription-message --limit 5

echo
echo "Step 4: Creating a snapshot of the subscription..."
gcloud pubsub snapshots create pubsub-snapshot --subscription=gcloud-pubsub-subscription

```


Form3: 

- Task 1. Publish a message to the topic.
- Task 2. View the message.
- Task 3. Create a Pub/Sub Snapshot for Pub/Sub topic.

```
gcloud pubsub subscriptions create pubsub-subscription-message --topic=gcloud-pubsub-topic
```
```
gcloud pubsub topics publish gcloud-pubsub-topic --message="Hello World"
```
```
sleep 10
```
```
gcloud pubsub subscriptions pull pubsub-subscription-message --limit 5
```
```
gcloud pubsub snapshots create pubsub-snapshot --subscription=pubsub-subscription-message
```